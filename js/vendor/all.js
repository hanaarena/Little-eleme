(function($){var cloneWithCanvases=function(jqueryObject){var clonedJqueryObject=jqueryObject.clone();var canvases=jqueryObject.find("canvas");if(canvases.length){var clonedCanvases=clonedJqueryObject.find("canvas");clonedCanvases.each(function(index){var context=this.getContext("2d");context.drawImage(canvases.get(index),0,0)})}return clonedJqueryObject};$.fn.quicksand=function(collection,customOptions){var options={duration:750,easing:"swing",attribute:"data-id",adjustHeight:"",adjustWidth:"",useScaling:false,enhancement:function(c){},selector:"> *",atomic:false,dx:0,dy:0,maxWidth:0,retainExisting:false},nativeScaleSupport=(function(){var prefixes="transform WebkitTransform MozTransform OTransform msTransform".split(" "),el=document.createElement("div");for(var i=0;i<prefixes.length;i++){if(typeof el.style[prefixes[i]]!="undefined"){return true}}return false})();$.extend(options,customOptions);if(!nativeScaleSupport||(typeof($.fn.scale)=="undefined")){options.useScaling=false}var callbackFunction;if(typeof(arguments[1])=="function"){callbackFunction=arguments[1]}else{if(typeof(arguments[2]=="function")){callbackFunction=arguments[2]}}return this.each(function(i){var val;var animationQueue=[];var $collection;if(typeof(options.attribute)=="function"){$collection=$(collection)}else{$collection=cloneWithCanvases($(collection).filter("["+options.attribute+"]"))}var $sourceParent=$(this);var sourceHeight=$(this).css("height");var destHeight,destWidth;var adjustHeightOnCallback=false;var adjustWidthOnCallback=false;var offset=$($sourceParent).offset();var offsets=[];var $source=$(this).find(options.selector);if(navigator.userAgent.match(/msie [6]/i)){$sourceParent.html("").append($collection);return}var postCallbackPerformed=0;var postCallback=function(){$(this).css("margin","").css("position","").css("top","").css("left","").css("opacity","");if(!postCallbackPerformed){postCallbackPerformed=1;if(!options.atomic){var $toDelete=$sourceParent.find(options.selector);if(!options.retainExisting){$sourceParent.prepend($dest.find(options.selector));
$toDelete.remove()}else{var $keepElements=$([]);$dest.find(options.selector).each(function(i){var $matchedElement=$([]);if(typeof(options.attribute)=="function"){var val=options.attribute($(this));$toDelete.each(function(){if(options.attribute(this)==val){$matchedElement=$(this);return false}})}else{$matchedElement=$toDelete.filter("["+options.attribute+'="'+$(this).attr(options.attribute)+'"]')}if($matchedElement.length>0){$keepElements=$keepElements.add($matchedElement);if(i===0){$sourceParent.prepend($matchedElement)}else{$matchedElement.insertAfter($sourceParent.find(options.selector).get(i-1))}}});$toDelete.not($keepElements).remove()}if(adjustHeightOnCallback){$sourceParent.css("height",destHeight)}if(adjustWidthOnCallback){}}options.enhancement($sourceParent);if(typeof callbackFunction=="function"){callbackFunction.call(this)}}if(false===options.adjustHeight){$sourceParent.css("height","auto")}if(false===options.adjustWidth){}};var $correctionParent=$sourceParent.offsetParent();var correctionOffset=$correctionParent.offset();if($correctionParent.css("position")=="relative"){if($correctionParent.get(0).nodeName.toLowerCase()!="body"){correctionOffset.top+=(parseFloat($correctionParent.css("border-top-width"))||0);correctionOffset.left+=(parseFloat($correctionParent.css("border-left-width"))||0)}}else{correctionOffset.top-=(parseFloat($correctionParent.css("border-top-width"))||0);correctionOffset.left-=(parseFloat($correctionParent.css("border-left-width"))||0);correctionOffset.top-=(parseFloat($correctionParent.css("margin-top"))||0);correctionOffset.left-=(parseFloat($correctionParent.css("margin-left"))||0)}if(isNaN(correctionOffset.left)){correctionOffset.left=0}if(isNaN(correctionOffset.top)){correctionOffset.top=0}correctionOffset.left-=options.dx;correctionOffset.top-=options.dy;$sourceParent.css("height",$(this).height());$source.each(function(i){offsets[i]=$(this).offset()});$(this).stop();var dx=0;var dy=0;$source.each(function(i){$(this).stop();var rawObj=$(this).get(0);
if(rawObj.style.position=="absolute"){dx=-options.dx;dy=-options.dy}else{dx=options.dx;dy=options.dy}rawObj.style.position="absolute";rawObj.style.margin="0";if(!options.adjustWidth){}rawObj.style.top=(offsets[i].top-parseFloat(rawObj.style.marginTop)-correctionOffset.top+dy)+"px";rawObj.style.left=(offsets[i].left-parseFloat(rawObj.style.marginLeft)-correctionOffset.left+dx)+"px";if(options.maxWidth>0&&offsets[i].left>options.maxWidth){rawObj.style.display="none"}});var $dest=cloneWithCanvases($($sourceParent));var rawDest=$dest.get(0);rawDest.innerHTML="";rawDest.setAttribute("id","");rawDest.style.height="auto";$dest.append($collection);$dest.insertBefore($sourceParent);$dest.css("opacity",0);rawDest.style.zIndex=-1;rawDest.style.margin="0";rawDest.style.position="absolute";rawDest.style.top=offset.top-correctionOffset.top+"px";rawDest.style.left=offset.left-correctionOffset.left+"px";if(options.adjustHeight==="dynamic"){$sourceParent.animate({height:$dest.height()},options.duration,options.easing)}else{if(options.adjustHeight==="auto"){destHeight=$dest.height();if(parseFloat(sourceHeight)<parseFloat(destHeight)){$sourceParent.css("height",destHeight)}else{adjustHeightOnCallback=true}}}$source.each(function(i){var destElement=[];if(typeof(options.attribute)=="function"){val=options.attribute($(this));$collection.each(function(){if(options.attribute(this)==val){destElement=$(this);return false}})}else{destElement=$collection.filter("["+options.attribute+'="'+$(this).attr(options.attribute)+'"]')}if(destElement.length){if(!options.useScaling){animationQueue.push({element:$(this),dest:destElement,style:{top:$(this).offset().top,left:$(this).offset().left,opacity:""},animation:{top:destElement.offset().top-correctionOffset.top,left:destElement.offset().left-correctionOffset.left,opacity:1}})}else{animationQueue.push({element:$(this),dest:destElement,style:{top:$(this).offset().top,left:$(this).offset().left,opacity:""},animation:{top:destElement.offset().top-correctionOffset.top,left:destElement.offset().left-correctionOffset.left,opacity:1,scale:"1.0"}})
}}else{if(!options.useScaling){animationQueue.push({element:$(this),style:{top:$(this).offset().top,left:$(this).offset().left,opacity:""},animation:{opacity:"0.0"}})}else{animationQueue.push({element:$(this),animation:{opacity:"0.0",style:{top:$(this).offset().top,left:$(this).offset().left,opacity:""},scale:"0.0"}})}}});$collection.each(function(i){var sourceElement=[];var destElement=[];if(typeof(options.attribute)=="function"){val=options.attribute($(this));$source.each(function(){if(options.attribute(this)==val){sourceElement=$(this);return false}});$collection.each(function(){if(options.attribute(this)==val){destElement=$(this);return false}})}else{sourceElement=$source.filter("["+options.attribute+'="'+$(this).attr(options.attribute)+'"]');destElement=$collection.filter("["+options.attribute+'="'+$(this).attr(options.attribute)+'"]')}var animationOptions;if(sourceElement.length===0&&destElement.length>0){if(!options.useScaling){animationOptions={opacity:"1.0"}}else{animationOptions={opacity:"1.0",scale:"1.0"}}var d=cloneWithCanvases(destElement);var rawDestElement=d.get(0);rawDestElement.style.position="absolute";rawDestElement.style.margin="0";rawDestElement.style.top=destElement.offset().top-correctionOffset.top+"px";rawDestElement.style.left=destElement.offset().left-correctionOffset.left+"px";d.css("opacity",0);if(options.useScaling){d.scale(0)}d.appendTo($sourceParent);if(options.maxWidth===0||destElement.offset().left<options.maxWidth){animationQueue.push({element:$(d),dest:destElement,animation:animationOptions})}}});$dest.remove();if(!options.atomic){options.enhancement($sourceParent);for(i=0;i<animationQueue.length;i++){animationQueue[i].element.animate(animationQueue[i].animation,options.duration,options.easing,postCallback)}}else{$toDelete=$sourceParent.find(options.selector);$sourceParent.prepend($dest.find(options.selector));for(i=0;i<animationQueue.length;i++){if(animationQueue[i].dest&&animationQueue[i].style){var destElement=animationQueue[i].dest;
var destOffset=destElement.offset();destElement.css({position:"relative",top:(animationQueue[i].style.top-destOffset.top),left:(animationQueue[i].style.left-destOffset.left)});destElement.animate({top:"0",left:"0"},options.duration,options.easing,postCallback)}else{animationQueue[i].element.animate(animationQueue[i].animation,options.duration,options.easing,postCallback)}}$toDelete.remove()}})}})(jQuery);
jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return -c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t+b}return -c/2*((--t)*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t+b}return c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return -c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t*t+b}return -c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t*t*t+b}return c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return -c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return -c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){if(t==0){return b}if(t==d){return b+c}if((t/=d/2)<1){return c/2*Math.pow(2,10*(t-1))+b}return c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return -c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1){return -c/2*(Math.sqrt(1-t*t)-1)+b}return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0){return b}if((t/=d)==1){return b+c}if(!p){p=d*0.3}if(a<Math.abs(c)){a=c;var s=p/4}else{var s=p/(2*Math.PI)*Math.asin(c/a)
}return -(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0){return b}if((t/=d)==1){return b+c}if(!p){p=d*0.3}if(a<Math.abs(c)){a=c;var s=p/4}else{var s=p/(2*Math.PI)*Math.asin(c/a)}return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0){return b}if((t/=d/2)==2){return b+c}if(!p){p=d*(0.3*1.5)}if(a<Math.abs(c)){a=c;var s=p/4}else{var s=p/(2*Math.PI)*Math.asin(c/a)}if(t<1){return -0.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b}return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*0.5+c+b},easeInBack:function(x,t,b,c,d,s){if(s==undefined){s=1.70158}return c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){if(s==undefined){s=1.70158}return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined){s=1.70158}if((t/=d/2)<1){return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b}return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b}else{if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+0.75)+b}else{if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+0.9375)+b}else{return c*(7.5625*(t-=(2.625/2.75))*t+0.984375)+b}}}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2){return jQuery.easing.easeInBounce(x,t*2,0,c,d)*0.5+b}return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*0.5+c*0.5+b}});
(function($){if(!$){return}$.fn.headroom=function(option){return this.each(function(){var $this=$(this),data=$this.data("headroom"),options=typeof option==="object"&&option;options=$.extend(true,{},Headroom.options,options);if(!data){data=new Headroom(this,options);data.init();$this.data("headroom",data)}if(typeof option==="string"){data[option]()}})};$("[data-headroom]").each(function(){var $this=$(this);$this.headroom($this.data())})}(window.Zepto||window.jQuery));
